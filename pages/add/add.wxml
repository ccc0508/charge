<!--pages/add/add.wxml-->

<!-- æ”¶å…¥/æ”¯å‡º Tab -->
<view class="tabs">
  <view
    class="tab {{type === 'expense' ? 'tab-active tab-expense' : ''}}"
    data-type="expense"
    bindtap="onTabChange"
  >
    æ”¯å‡º
  </view>
  <view
    class="tab {{type === 'income' ? 'tab-active tab-income' : ''}}"
    data-type="income"
    bindtap="onTabChange"
  >
    æ”¶å…¥
  </view>
</view>

<!-- é‡‘é¢è¾“å…¥åŒº -->
<view class="amount-section">
  <text class="currency-sign">Â¥</text>
  <input
    class="amount-input"
    type="digit"
    placeholder="0.00"
    placeholder-class="amount-placeholder"
    value="{{amount}}"
    bindinput="onAmountInput"
    focus="{{true}}"
  />
</view>

<!-- åˆ†ç±»é€‰æ‹©åŒº -->
<view class="category-section">
  <view class="section-title">é€‰æ‹©åˆ†ç±»</view>
  <view class="category-grid">
    <view
      wx:for="{{categories}}"
      wx:key="key"
      class="category-item {{selectedCategory === item.key ? 'category-active' : ''}}"
      data-key="{{item.key}}"
      bindtap="onCategoryTap"
    >
      <view class="category-icon-wrap {{selectedCategory === item.key ? (type === 'income' ? 'icon-wrap-income' : 'icon-wrap-expense') : ''}}">
        <text class="category-icon">{{item.icon}}</text>
      </view>
      <text class="category-label">{{item.label}}</text>
    </view>
  </view>
</view>

<!-- å¤‡æ³¨è¾“å…¥ -->
<view class="form-row">
  <text class="form-label">ğŸ“ å¤‡æ³¨</text>
  <input
    class="form-input"
    placeholder="æ·»åŠ å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰"
    placeholder-class="form-placeholder"
    value="{{note}}"
    bindinput="onNoteInput"
    maxlength="50"
  />
</view>

<!-- æ—¥æœŸé€‰æ‹© -->
<view class="form-row">
  <text class="form-label">ğŸ“… æ—¥æœŸ</text>
  <picker mode="date" value="{{date}}" bindchange="onDateChange">
    <view class="date-picker">
      <text class="date-text">{{date}}</text>
      <text class="date-arrow">â€º</text>
    </view>
  </picker>
</view>

<!-- ä¿å­˜æŒ‰é’® -->
<view class="save-section">
  <button class="save-btn {{type === 'income' ? 'save-btn-income' : 'save-btn-expense'}}" bindtap="onSave" disabled="{{saving}}">
    ä¿å­˜
  </button>
</view>
