<!--pages/add/add.wxml-->

<!-- æ”¶å…¥/æ”¯å‡º Tab -->
<view class="tabs-wrap">
  <view class="tabs">
    <view
      class="tab {{type === 'expense' ? 'tab-active' : ''}}"
      data-type="expense"
      bindtap="onTabChange"
    >
      æ”¯å‡º
    </view>
    <view
      class="tab {{type === 'income' ? 'tab-active' : ''}}"
      data-type="income"
      bindtap="onTabChange"
    >
      æ”¶å…¥
    </view>
  </view>
</view>

<!-- é‡‘é¢æ˜¾ç¤º -->
<view class="amount-display">
  <text class="amount-value">{{displayAmount}}</text>
</view>

<!-- åˆ†ç±»é€‰æ‹© -->
<view class="category-grid">
  <view
    wx:for="{{categories}}"
    wx:key="key"
    class="category-item"
    data-key="{{item.key}}"
    bindtap="onCategoryTap"
  >
    <view class="cat-icon-wrap {{selectedCategory === item.key ? 'cat-selected' : ''}}">
      <text class="cat-icon">{{item.icon}}</text>
    </view>
    <text class="cat-label {{selectedCategory === item.key ? 'cat-label-active' : ''}}">{{item.label}}</text>
  </view>
</view>

<!-- å¤‡æ³¨å¿«æ·è¾“å…¥ -->
<view class="note-bar">
  <input
    class="note-input"
    placeholder="æ·»åŠ å¤‡æ³¨..."
    placeholder-class="note-placeholder"
    value="{{note}}"
    bindinput="onNoteInput"
    maxlength="30"
  />
  <picker mode="date" value="{{date}}" bindchange="onDateChange">
    <view class="date-btn">ğŸ“… {{dateLabel}}</view>
  </picker>
</view>

<!-- è‡ªå®šä¹‰æ•°å­—é”®ç›˜ -->
<view class="keypad">
  <view class="keypad-grid">
    <view class="key" data-val="7" bindtap="onKeyTap">7</view>
    <view class="key" data-val="8" bindtap="onKeyTap">8</view>
    <view class="key" data-val="9" bindtap="onKeyTap">9</view>
    <view class="key" data-val="4" bindtap="onKeyTap">4</view>
    <view class="key" data-val="5" bindtap="onKeyTap">5</view>
    <view class="key" data-val="6" bindtap="onKeyTap">6</view>
    <view class="key" data-val="1" bindtap="onKeyTap">1</view>
    <view class="key" data-val="2" bindtap="onKeyTap">2</view>
    <view class="key" data-val="3" bindtap="onKeyTap">3</view>
    <view class="key" data-val="." bindtap="onKeyTap">.</view>
    <view class="key" data-val="0" bindtap="onKeyTap">0</view>
    <view class="key key-del" bindtap="onKeyDelete">
      <text class="del-icon">âŒ«</text>
    </view>
  </view>
  <view class="keypad-right">
    <view class="key-done" bindtap="onSave">
      <text class="done-text">å®Œæˆ</text>
    </view>
  </view>
</view>
